# üìñ API Documentation

**–ë–∞–∑–æ–≤–∏–π URL:** `http://localhost:3000/api`

**–í–µ—Ä—Å—ñ—è:** 2.0.0

---

## üåç –Ü–Ω—Ç–µ—Ä–Ω–∞—Ü—ñ–æ–Ω–∞–ª—ñ–∑–∞—Ü—ñ—è (i18n)

API –ø—ñ–¥—Ç—Ä–∏–º—É—î –¥–≤—ñ –º–æ–≤–∏: **—É–∫—Ä–∞—ó–Ω—Å—å–∫—É** (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º) —Ç–∞ **–∞–Ω–≥–ª—ñ–π—Å—å–∫—É**.

### –°–ø–æ—Å–æ–±–∏ –≤–∏–±–æ—Ä—É –º–æ–≤–∏:

1. **Query –ø–∞—Ä–∞–º–µ—Ç—Ä** (–≤–∏—â–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç):
   ```
   GET /api/schedules/latest?lang=en
   ```

2. **–ó–∞–≥–æ–ª–æ–≤–æ–∫ Accept-Language**:
   ```
   Accept-Language: en-US,en;q=0.9,uk;q=0.8
   ```

### –ü—Ä–∏–∫–ª–∞–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –∑ –ø–æ–º–∏–ª–∫–æ—é:
**–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞:**
```json
{
  "success": false,
  "error": "–ù–µ–≤—ñ—Ä–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç–∏. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ YYYY-MM-DD"
}
```

**–ê–Ω–≥–ª—ñ–π—Å—å–∫–∞:**
```json
{
  "success": false,
  "error": "Invalid date format. Use YYYY-MM-DD"
}
```

---

## üõ°Ô∏è Rate Limiting

API –∑–∞—Ö–∏—â–µ–Ω–æ –≤—ñ–¥ –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é rate limiting. –õ—ñ–º—ñ—Ç–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –≥—Ä—É–ø –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤:

| –ì—Ä—É–ø–∞ –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤ | –õ—ñ–º—ñ—Ç | –í—ñ–∫–Ω–æ —á–∞—Å—É |
|------------------|-------|------------|
| `/api/schedules/*` | 200 –∑–∞–ø–∏—Ç—ñ–≤ | 15 —Ö–≤–∏–ª–∏–Ω |
| `/api/updates/*` | 60 –∑–∞–ø–∏—Ç—ñ–≤ | 15 —Ö–≤–∏–ª–∏–Ω |
| `/api/addresses/*` | 30 –∑–∞–ø–∏—Ç—ñ–≤ | 5 —Ö–≤–∏–ª–∏–Ω |
| –ó–∞–≥–∞–ª—å–Ω–∏–π (–≤—Å—ñ `/api/*`) | 300 –∑–∞–ø–∏—Ç—ñ–≤ | 15 —Ö–≤–∏–ª–∏–Ω |

### –ó–∞–≥–æ–ª–æ–≤–∫–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:
```
RateLimit-Limit: 200
RateLimit-Remaining: 199
RateLimit-Reset: 1732269600
```

### –ü—Ä–∏ –ø–µ—Ä–µ–≤–∏—â–µ–Ω–Ω—ñ –ª—ñ–º—ñ—Ç—É:
**Status:** `429 Too Many Requests`
```json
{
  "success": false,
  "error": "–ó–∞–±–∞–≥–∞—Ç–æ –∑–∞–ø–∏—Ç—ñ–≤. –°–ø—Ä–æ–±—É–π—Ç–µ –ø—ñ–∑–Ω—ñ—à–µ."
}
```

---

## üìÖ –ì—Ä–∞—Ñ—ñ–∫–∏ (Schedules)

### 1. –û—Ç—Ä–∏–º–∞—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—ñ–π –¥–æ—Å—Ç—É–ø–Ω–∏–π –≥—Ä–∞—Ñ—ñ–∫

–ü–æ–≤–µ—Ä—Ç–∞—î –Ω–∞–π–∞–∫—Ç—É–∞–ª—å–Ω—ñ—à–∏–π –≥—Ä–∞—Ñ—ñ–∫ (–ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: —Å—å–æ–≥–æ–¥–Ω—ñ—à–Ω—ñ–π ‚Üí –Ω–∞–π–Ω–æ–≤—ñ—à–∏–π).

**Endpoint:** `GET /api/schedules/latest`

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:** –ù–µ–º–∞—î

**–í—ñ–¥–ø–æ–≤—ñ–¥—å (200 OK):**
```json
{
  "success": true,
  "date": "2025-11-22",
  "queues": [
    {
      "queue": "1.1",
      "hours": [0, 1, 2, 9, 10, 11, 18, 19, 20]
    },
    {
      "queue": "1.2",
      "hours": [3, 4, 5, 12, 13, 14, 21, 22, 23]
    }
  ]
}
```

**–ü–æ–º–∏–ª–∫–∏:**
- `404` - –ì—Ä–∞—Ñ—ñ–∫–∏ –≤—ñ–¥—Å—É—Ç–Ω—ñ

---

### 2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å –≥—Ä–∞—Ñ—ñ–∫–∞ –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ

**Endpoint:** `GET /api/schedules/today/status`

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:** –ù–µ–º–∞—î

**–í—ñ–¥–ø–æ–≤—ñ–¥—å (200 OK) - –¥–æ—Å—Ç—É–ø–Ω–∏–π:**
```json
{
  "success": true,
  "available": true,
  "message": "–ì—Ä–∞—Ñ—ñ–∫ –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ –¥–æ—Å—Ç—É–ø–Ω–∏–π",
  "date": "2025-11-22"
}
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å (200 OK) - –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π:**
```json
{
  "success": true,
  "available": false,
  "message": "–ì—Ä–∞—Ñ—ñ–∫ –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ —â–µ –Ω–µ –æ–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω–∏–π"
}
```

---

### 3. –û—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω–∏—Ö –¥–∞—Ç

–ü–æ–≤–µ—Ä—Ç–∞—î –≤—Å—ñ –¥–∞—Ç–∏, –¥–ª—è —è–∫–∏—Ö —î –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –≥—Ä–∞—Ñ—ñ–∫–∏.

**Endpoint:** `GET /api/schedules/dates`

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:** –ù–µ–º–∞—î

**–í—ñ–¥–ø–æ–≤—ñ–¥—å (200 OK):**
```json
{
  "success": true,
  "dates": [
    "2025-11-22",
    "2025-11-21",
    "2025-11-20"
  ]
}
```

---

### 4. –û—Ç—Ä–∏–º–∞—Ç–∏ –≥—Ä–∞—Ñ—ñ–∫ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É –¥–∞—Ç—É

**Endpoint:** `GET /api/schedules/:date`

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏ —à–ª—è—Ö—É:**
- `date` (–æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π) - –¥–∞—Ç–∞ —É —Ñ–æ—Ä–º–∞—Ç—ñ `YYYY-MM-DD`

**–ü—Ä–∏–∫–ª–∞–¥:** `GET /api/schedules/2025-11-22`

**–í—ñ–¥–ø–æ–≤—ñ–¥—å (200 OK):**
```json
{
  "success": true,
  "date": "2025-11-22",
  "queues": [
    {
      "queue": "1.1",
      "hours": [0, 1, 2, 9, 10, 11, 18, 19, 20]
    },
    {
      "queue": "2.1",
      "hours": [6, 7, 8, 15, 16, 17]
    }
  ]
}
```

**–ü–æ–º–∏–ª–∫–∏:**
- `400` - –ù–µ–≤—ñ—Ä–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç–∏
- `404` - –ì—Ä–∞—Ñ—ñ–∫ –¥–ª—è –≤–∫–∞–∑–∞–Ω–æ—ó –¥–∞—Ç–∏ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ

---

### 5. –û—Ç—Ä–∏–º–∞—Ç–∏ –º–µ—Ç–∞–¥–∞–Ω—ñ –≥—Ä–∞—Ñ—ñ–∫–∞

–ü–æ–≤–µ—Ä—Ç–∞—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —á–∞—Å –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–º—ñ–Ω.

**Endpoint:** `GET /api/schedules/:date/metadata`

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏ —à–ª—è—Ö—É:**
- `date` (–æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π) - –¥–∞—Ç–∞ —É —Ñ–æ—Ä–º–∞—Ç—ñ `YYYY-MM-DD`

**–ü—Ä–∏–∫–ª–∞–¥:** `GET /api/schedules/2025-11-22/metadata`

**–í—ñ–¥–ø–æ–≤—ñ–¥—å (200 OK):**
```json
{
  "success": true,
  "date": "2025-11-22",
  "metadata": {
    "lastUpdate": "2025-11-21T18:30:00.000Z",
    "changeCount": 2,
    "totalQueues": 12
  }
}
```

**–ü–æ–º–∏–ª–∫–∏:**
- `400` - –ù–µ–≤—ñ—Ä–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç–∏
- `404` - –ú–µ—Ç–∞–¥–∞–Ω—ñ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ

---

### 6. –û—Ç—Ä–∏–º–∞—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—ñ–π –≥—Ä–∞—Ñ—ñ–∫ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó —á–µ—Ä–≥–∏

**Endpoint:** `GET /api/schedules/queues/:queue/latest`

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏ —à–ª—è—Ö—É:**
- `queue` (–æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π) - –Ω–æ–º–µ—Ä —á–µ—Ä–≥–∏ —É —Ñ–æ—Ä–º–∞—Ç—ñ `X.X` (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `1.1`)

**–ü—Ä–∏–∫–ª–∞–¥:** `GET /api/schedules/queues/1.1/latest`

**–í—ñ–¥–ø–æ–≤—ñ–¥—å (200 OK):**
```json
{
  "success": true,
  "queue": "1.1",
  "date": "2025-11-22",
  "hours": [0, 1, 2, 9, 10, 11, 18, 19, 20]
}
```

**–ü–æ–º–∏–ª–∫–∏:**
- `400` - –ù–µ–≤—ñ—Ä–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç —á–µ—Ä–≥–∏
- `404` - –ì—Ä–∞—Ñ—ñ–∫ –¥–ª—è —á–µ—Ä–≥–∏ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ

---

### 7. –û—Ç—Ä–∏–º–∞—Ç–∏ –≥—Ä–∞—Ñ—ñ–∫ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó —á–µ—Ä–≥–∏ –Ω–∞ –¥–∞—Ç—É

**Endpoint:** `GET /api/schedules/:date/queues/:queue`

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏ —à–ª—è—Ö—É:**
- `date` (–æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π) - –¥–∞—Ç–∞ —É —Ñ–æ—Ä–º–∞—Ç—ñ `YYYY-MM-DD`
- `queue` (–æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π) - –Ω–æ–º–µ—Ä —á–µ—Ä–≥–∏ —É —Ñ–æ—Ä–º–∞—Ç—ñ `X.X`

**–ü—Ä–∏–∫–ª–∞–¥:** `GET /api/schedules/2025-11-22/queues/1.1`

**–í—ñ–¥–ø–æ–≤—ñ–¥—å (200 OK):**
```json
{
  "success": true,
  "date": "2025-11-22",
  "queue": "1.1",
  "hours": [0, 1, 2, 9, 10, 11, 18, 19, 20]
}
```

**–ü–æ–º–∏–ª–∫–∏:**
- `400` - –ù–µ–≤—ñ—Ä–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç–∏ –∞–±–æ —á–µ—Ä–≥–∏
- `404` - –ì—Ä–∞—Ñ—ñ–∫ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ

---

## üîî –û–Ω–æ–≤–ª–µ–Ω–Ω—è (Updates)

### 8. –û—Ç—Ä–∏–º–∞—Ç–∏ –Ω–æ–≤—ñ –≥—Ä–∞—Ñ—ñ–∫–∏

–ü–æ–≤–µ—Ä—Ç–∞—î –≥—Ä–∞—Ñ—ñ–∫–∏, —è–∫—ñ –±—É–ª–∏ –¥–æ–¥–∞–Ω—ñ –∑–∞ –æ—Å—Ç–∞–Ω–Ω—ñ N –≥–æ–¥–∏–Ω (—Ç—ñ–ª—å–∫–∏ –º–∞–π–±—É—Ç–Ω—ñ –¥–∞—Ç–∏).

**Endpoint:** `GET /api/updates/new`

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `hours` (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π) - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≥–æ–¥–∏–Ω –Ω–∞–∑–∞–¥ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: 24, –º—ñ–Ω: 1, –º–∞–∫—Å: 720)

**–ü—Ä–∏–∫–ª–∞–¥:** `GET /api/updates/new?hours=48`

**–í—ñ–¥–ø–æ–≤—ñ–¥—å (200 OK):**
```json
{
  "success": true,
  "hours": 48,
  "count": 2,
  "schedules": [
    {
      "date": "2025-11-23",
      "firstSeenAt": "2025-11-22T10:00:00.000Z",
      "message": "üìÖ –ì—Ä–∞—Ñ—ñ–∫ –Ω–∞ 23 –ª–∏—Å—Ç–æ–ø–∞–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∏–π"
    },
    {
      "date": "2025-11-24",
      "firstSeenAt": "2025-11-22T11:30:00.000Z",
      "message": "üìÖ –ì—Ä–∞—Ñ—ñ–∫ –Ω–∞ 24 –ª–∏—Å—Ç–æ–ø–∞–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∏–π"
    }
  ]
}
```

**–ü–æ–º–∏–ª–∫–∏:**
- `400` - –ù–µ–≤—ñ—Ä–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `hours`

---

### 9. –û—Ç—Ä–∏–º–∞—Ç–∏ –∑–º—ñ–Ω–µ–Ω—ñ –≥—Ä–∞—Ñ—ñ–∫–∏

–ü–æ–≤–µ—Ä—Ç–∞—î –≥—Ä–∞—Ñ—ñ–∫–∏, —è–∫—ñ –±—É–ª–∏ –∑–º—ñ–Ω–µ–Ω—ñ –∑–∞ –æ—Å—Ç–∞–Ω–Ω—ñ N –≥–æ–¥–∏–Ω.

**Endpoint:** `GET /api/updates/changed`

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `hours` (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π) - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≥–æ–¥–∏–Ω –Ω–∞–∑–∞–¥ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: 24, –º—ñ–Ω: 1, –º–∞–∫—Å: 720)

**–ü—Ä–∏–∫–ª–∞–¥:** `GET /api/updates/changed?hours=24`

**–í—ñ–¥–ø–æ–≤—ñ–¥—å (200 OK):**
```json
{
  "success": true,
  "hours": 24,
  "count": 1,
  "schedules": [
    {
      "date": "2025-11-22",
      "updatedAt": "2025-11-22T08:45:00.000Z",
      "changeCount": 2,
      "message": "‚ö†Ô∏è –£–≤–∞–≥–∞! –î–æ –≥—Ä–∞—Ñ—ñ–∫–∞ –Ω–∞ 22 –ª–∏—Å—Ç–æ–ø–∞–¥–∞ –≤–Ω–µ—Å–µ–Ω–æ –∑–º—ñ–Ω–∏ –æ 08:45"
    }
  ]
}
```

**–ü–æ–º–∏–ª–∫–∏:**
- `400` - –ù–µ–≤—ñ—Ä–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `hours`

---

## üìç –ê–¥—Ä–µ—Å–∏ (Addresses)

### 10. –ü–æ—à—É–∫ –∞–¥—Ä–µ—Å –ø–æ –∑–∞–ø–∏—Ç—É

–®—É–∫–∞—î –≤—É–ª–∏—Ü—ñ —Ç–∞ –∞–¥—Ä–µ—Å–∏, —è–∫—ñ –º—ñ—Å—Ç—è—Ç—å –≤–∫–∞–∑–∞–Ω–∏–π —Ç–µ–∫—Å—Ç.

**Endpoint:** `GET /api/addresses/search`

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `q` (–æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π) - –ø–æ—à—É–∫–æ–≤–∏–π –∑–∞–ø–∏—Ç (–º—ñ–Ω—ñ–º—É–º 3 —Å–∏–º–≤–æ–ª–∏)
- `limit` (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π) - –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: 10, –º—ñ–Ω: 1, –º–∞–∫—Å: 100)

**–ü—Ä–∏–∫–ª–∞–¥:** `GET /api/addresses/search?q=–°–æ–±–æ—Ä–Ω–∏–π&limit=5`

**–í—ñ–¥–ø–æ–≤—ñ–¥—å (200 OK):**
```json
{
  "success": true,
  "query": "–°–æ–±–æ—Ä–Ω–∏–π",
  "count": 3,
  "addresses": [
    {
      "id": 1,
      "street": "–°–æ–±–æ—Ä–Ω–∏–π",
      "houseNumber": "125",
      "queue": "1.1"
    },
    {
      "id": 2,
      "street": "–°–æ–±–æ—Ä–Ω–∏–π",
      "houseNumber": "127",
      "queue": "1.1"
    },
    {
      "id": 3,
      "street": "–°–æ–±–æ—Ä–Ω–∏–π",
      "houseNumber": "129",
      "queue": "2.1"
    }
  ]
}
```

**–ü–æ–º–∏–ª–∫–∏:**
- `400` - –ü–∞—Ä–∞–º–µ—Ç—Ä `q` –≤—ñ–¥—Å—É—Ç–Ω—ñ–π –∞–±–æ –∑–∞–Ω–∞–¥—Ç–æ –∫–æ—Ä–æ—Ç–∫–∏–π
- `400` - –ù–µ–≤—ñ—Ä–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è `limit`

---

### 11. –¢–æ—á–Ω–∏–π –ø–æ—à—É–∫ –ø–æ –ø–æ–≤–Ω—ñ–π –∞–¥—Ä–µ—Å—ñ

–®—É–∫–∞—î –∞–¥—Ä–µ—Å—É –∑–∞ –ø–æ–≤–Ω–∏–º –∑–±—ñ–≥–æ–º (–≤—É–ª–∏—Ü—è + –Ω–æ–º–µ—Ä –±—É–¥–∏–Ω–∫—É).

**Endpoint:** `GET /api/addresses/exact`

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `address` (–æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π) - –ø–æ–≤–Ω–∞ –∞–¥—Ä–µ—Å–∞ (—Ñ–æ—Ä–º–∞—Ç: "–≤—É–ª–∏—Ü—è, –Ω–æ–º–µ—Ä")

**–ü—Ä–∏–∫–ª–∞–¥:** `GET /api/addresses/exact?address=–°–æ–±–æ—Ä–Ω–∏–π, 125`

**–í—ñ–¥–ø–æ–≤—ñ–¥—å (200 OK):**
```json
{
  "success": true,
  "address": "–°–æ–±–æ—Ä–Ω–∏–π, 125",
  "result": {
    "id": 1,
    "street": "–°–æ–±–æ—Ä–Ω–∏–π",
    "houseNumber": "125",
    "queue": "1.1"
  }
}
```

**–ü–æ–º–∏–ª–∫–∏:**
- `400` - –ü–∞—Ä–∞–º–µ—Ç—Ä `address` –≤—ñ–¥—Å—É—Ç–Ω—ñ–π
- `404` - –ê–¥—Ä–µ—Å–∞ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∞ –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö

---

## üè† –ö–æ—Ä–µ–Ω–µ–≤—ñ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏

### –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ API

**Endpoint:** `GET /`

**–í—ñ–¥–ø–æ–≤—ñ–¥—å (200 OK):**
```json
{
  "status": "ok",
  "message": "Blackout Calendar API ‚ö°",
  "version": "2.0.0",
  "language": "uk",
  "availableLanguages": ["uk", "en"],
  "endpoints": {
    "schedules": {
      "GET /api/schedules/latest": "–û—Ç—Ä–∏–º–∞—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—ñ–π –¥–æ—Å—Ç—É–ø–Ω–∏–π –≥—Ä–∞—Ñ—ñ–∫",
      "GET /api/schedules/today/status": "–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –≥—Ä–∞—Ñ—ñ–∫–∞ –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ",
      "GET /api/schedules/dates": "–°–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –¥–æ—Å—Ç—É–ø–Ω–∏—Ö –¥–∞—Ç",
      "GET /api/schedules/queues/:queue/latest": "–û—Å—Ç–∞–Ω–Ω—ñ–π –≥—Ä–∞—Ñ—ñ–∫ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó —á–µ—Ä–≥–∏",
      "GET /api/schedules/:date": "–û—Ç—Ä–∏–º–∞—Ç–∏ –≥—Ä–∞—Ñ—ñ–∫ –ø–æ –¥–∞—Ç—ñ (YYYY-MM-DD)",
      "GET /api/schedules/:date/metadata": "–ú–µ—Ç–∞–¥–∞–Ω—ñ –≥—Ä–∞—Ñ—ñ–∫–∞ (—á–∞—Å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è, –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–º—ñ–Ω)",
      "GET /api/schedules/:date/queues/:queue": "–ì—Ä–∞—Ñ—ñ–∫ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó —á–µ—Ä–≥–∏ —Ç–∞ –¥–∞—Ç–∏"
    },
    "updates": {
      "GET /api/updates/new": "–ù–æ–≤—ñ –≥—Ä–∞—Ñ—ñ–∫–∏ –∑–∞ –æ—Å—Ç–∞–Ω–Ω—ñ N –≥–æ–¥–∏–Ω (?hours=24)",
      "GET /api/updates/changed": "–ó–º—ñ–Ω–µ–Ω—ñ –≥—Ä–∞—Ñ—ñ–∫–∏ –∑–∞ –æ—Å—Ç–∞–Ω–Ω—ñ N –≥–æ–¥–∏–Ω (?hours=24)"
    },
    "addresses": {
      "GET /api/addresses/search?q=query": "–ü–æ—à—É–∫ –∞–¥—Ä–µ—Å –ø–æ –≤—É–ª–∏—Ü—ñ (–º—ñ–Ω—ñ–º—É–º 3 —Å–∏–º–≤–æ–ª–∏)",
      "GET /api/addresses/exact?address=full": "–ü–æ—à—É–∫ –ø–æ —Ç–æ—á–Ω—ñ–π –∞–¥—Ä–µ—Å—ñ"
    }
  },
  "rateLimits": {
    "/api/schedules": "200 –∑–∞–ø–∏—Ç—ñ–≤ / 15 —Ö–≤–∏–ª–∏–Ω",
    "/api/updates": "60 –∑–∞–ø–∏—Ç—ñ–≤ / 15 —Ö–≤–∏–ª–∏–Ω",
    "/api/addresses": "30 –∑–∞–ø–∏—Ç—ñ–≤ / 5 —Ö–≤–∏–ª–∏–Ω",
    "general": "100 –∑–∞–ø–∏—Ç—ñ–≤ / 15 —Ö–≤–∏–ª–∏–Ω (–¥–ª—è –≤—Å—å–æ–≥–æ API)"
  },
  "changes": {
    "v2": [
      "–ü–µ—Ä–µ–ø–∏—Å–∞–Ω–æ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –∫–ª–∞—Å–æ–≤–æ—ó –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏",
      "–î–æ–¥–∞–Ω–æ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –∑–∞–ø–∏—Ç—ñ–≤",
      "–û–Ω–æ–≤–ª–µ–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É URL (–±—ñ–ª—å—à RESTful)",
      "–ü–æ–∫—Ä–∞—â–µ–Ω–æ –æ–±—Ä–æ–±–∫—É –ø–æ–º–∏–ª–æ–∫",
      "–î–æ–¥–∞–Ω–æ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π",
      "–î–æ–¥–∞–Ω–æ rate limiting –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É API",
      "–î–æ–¥–∞–Ω–æ –ø—ñ–¥—Ç—Ä–∏–º–∫—É –¥–≤–æ—Ö –º–æ–≤ (—É–∫—Ä–∞—ó–Ω—Å—å–∫–∞/–∞–Ω–≥–ª—ñ–π—Å—å–∫–∞)"
    ]
  }
}
```

---

### Swagger –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

**Endpoint:** `GET /api-docs`

–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤.

---

## ‚ö†Ô∏è –ö–æ–¥–∏ –ø–æ–º–∏–ª–æ–∫

| HTTP –∫–æ–¥ | –û–ø–∏—Å |
|----------|------|
| 200 | –£—Å–ø—ñ—à–Ω–∏–π –∑–∞–ø–∏—Ç |
| 400 | –ù–µ–≤—ñ—Ä–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–∞–ø–∏—Ç—É (–≤–∞–ª—ñ–¥–∞—Ü—ñ—è) |
| 404 | –†–µ—Å—É—Ä—Å –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ |
| 429 | –ü–µ—Ä–µ–≤–∏—â–µ–Ω–æ –ª—ñ–º—ñ—Ç –∑–∞–ø–∏—Ç—ñ–≤ |
| 500 | –í–Ω—É—Ç—Ä—ñ—à–Ω—è –ø–æ–º–∏–ª–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ |

---

## üîÑ –ó–∞—Å—Ç–∞—Ä—ñ–ª—ñ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ (Backwards Compatibility)

–î–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ –∑—ñ —Å—Ç–∞—Ä–∏–º–∏ –≤–µ—Ä—Å—ñ—è–º–∏ API –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å—Å—è redirect'–∏:

| –°—Ç–∞—Ä–∏–π –µ–Ω–¥–ø–æ—ñ–Ω—Ç | –ù–æ–≤–∏–π –µ–Ω–¥–ø–æ—ñ–Ω—Ç | HTTP –∫–æ–¥ |
|-----------------|----------------|----------|
| `GET /api/schedule/:date` | `GET /api/schedules/:date` | 301 |
| `GET /api/schedule/queue/:queue/:date` | `GET /api/schedules/:date/queues/:queue` | 301 |
| `GET /api/latest` | `GET /api/schedules/latest` | 301 |
| `GET /api/dates` | `GET /api/schedules/dates` | 301 |

---

## üìä –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### cURL

```bash
# –û—Ç—Ä–∏–º–∞—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—ñ–π –≥—Ä–∞—Ñ—ñ–∫
curl http://localhost:3000/api/schedules/latest

# –û—Ç—Ä–∏–º–∞—Ç–∏ –≥—Ä–∞—Ñ—ñ–∫ –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—é
curl http://localhost:3000/api/schedules/latest?lang=en

# –ü–æ—à—É–∫ –∞–¥—Ä–µ—Å–∏
curl "http://localhost:3000/api/addresses/search?q=–°–æ–±–æ—Ä–Ω–∏–π&limit=5"

# –ù–æ–≤—ñ –≥—Ä–∞—Ñ—ñ–∫–∏ –∑–∞ –æ—Å—Ç–∞–Ω–Ω—ñ 48 –≥–æ–¥–∏–Ω
curl http://localhost:3000/api/updates/new?hours=48
```

### JavaScript (fetch)

```javascript
// –û—Ç—Ä–∏–º–∞—Ç–∏ –≥—Ä–∞—Ñ—ñ–∫ –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ
const response = await fetch('http://localhost:3000/api/schedules/today/status');
const data = await response.json();
console.log(data);

// –ü–æ—à—É–∫ –∞–¥—Ä–µ—Å–∏ –∑ –æ–±—Ä–æ–±–∫–æ—é –ø–æ–º–∏–ª–æ–∫
try {
  const response = await fetch('http://localhost:3000/api/addresses/search?q=–°–æ–±–æ—Ä–Ω–∏–π');

  if (!response.ok) {
    throw new Error(`HTTP error! status: ${response.status}`);
  }

  const data = await response.json();
  console.log(data.addresses);
} catch (error) {
  console.error('–ü–æ–º–∏–ª–∫–∞:', error);
}
```

### Python (requests)

```python
import requests

# –û—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –¥–∞—Ç
response = requests.get('http://localhost:3000/api/schedules/dates')
data = response.json()
print(data['dates'])

# –û—Ç—Ä–∏–º–∞—Ç–∏ –≥—Ä–∞—Ñ—ñ–∫ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É –¥–∞—Ç—É
date = '2025-11-22'
response = requests.get(f'http://localhost:3000/api/schedules/{date}')
schedule = response.json()
print(schedule)
```

---

**–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:** 2025-11-22
