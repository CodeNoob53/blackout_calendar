# –ü—ñ–¥—Å—É–º–æ–∫ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞—Ä—Å–µ—Ä–∞ –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç—É Zoe

## ‚úÖ –©–æ –∑—Ä–æ–±–ª–µ–Ω–æ

### 1. –û–Ω–æ–≤–ª–µ–Ω–æ –ø–∞—Ä—Å–µ—Ä (`src/scraper/parser.js`)

**–ó–º—ñ–Ω–∏:**
- ‚úÖ –î–æ–¥–∞–Ω–æ –ø—ñ–¥—Ç—Ä–∏–º–∫—É –Ω–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç—É –∑ "–¥–æ": `00:00 –¥–æ 02:00`
- ‚úÖ –î–æ–¥–∞–Ω–æ –ø—ñ–¥—Ç—Ä–∏–º–∫—É –ø—Ä–µ—Ñ—ñ–∫—Å–∞ "–∑": `–∑ 15:00 –¥–æ 20:00`
- ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ—à—É–∫ —á–µ—Ä–≥ –±–µ–∑ –¥–≤–æ–∫—Ä–∞–ø–∫–∏: `–ß–µ—Ä–≥–∞ 4.2 –∑ 11:30`
- ‚úÖ –ó–±–µ—Ä–µ–∂–µ–Ω–æ –∑–≤–æ—Ä–æ—Ç–Ω—É —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å –∑—ñ —Å—Ç–∞—Ä–∏–º —Ñ–æ—Ä–º–∞—Ç–æ–º (—Ç–∏—Ä–µ)

**–ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ —Ñ–æ—Ä–º–∞—Ç–∏:**
```
–§–æ—Ä–º–∞—Ç 1: –ß–µ—Ä–≥–∞ 1.1: 00:00 –¥–æ 02:00 (–∑ "–ß–µ—Ä–≥–∞" + "–¥–æ")
–§–æ—Ä–º–∞—Ç 2: 1.1: 00:00 ‚Äì 05:30 (–±–µ–∑ "–ß–µ—Ä–≥–∞" + —Ç–∏—Ä–µ)
–§–æ—Ä–º–∞—Ç 3: 1.1: 00-00 ‚Äì 02-00 (–¥–µ—Ñ—ñ—Å –≤ —á–∞—Å—ñ + —Ç–∏—Ä–µ)
–§–æ—Ä–º–∞—Ç 4: –ß–µ—Ä–≥–∞ 4.2 –∑ 11:30 (–±–µ–∑ –¥–≤–æ–∫—Ä–∞–ø–∫–∏ –ø—ñ—Å–ª—è –Ω–æ–º–µ—Ä–∞)
```

**–ö–†–ò–¢–ò–ß–ù–ï –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø (2026-01-15):**
- ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–∞—Ä—Å–∏–Ω–≥ —Ñ–æ—Ä–º–∞—Ç—É –±–µ–∑ —Å–ª–æ–≤–∞ "–ß–µ—Ä–≥–∞" (–ø–æ—Å—Ç–∏ 2745+)
- ‚úÖ –î–æ–¥–∞–Ω–æ `\d\.\d\s*:` –¥–æ lookahead –¥–ª—è —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è –≥—Ä–∞–Ω–∏—Ü—å —á–µ—Ä–≥
- ‚úÖ –¢–µ–ø–µ—Ä –ø–∞—Ä—Å–µ—Ä –æ–±—Ä–æ–±–ª—è—î –í–°–Ü 12 —á–µ—Ä–≥ –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ñ–æ—Ä–º–∞—Ç—É

### 2. –ü—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–æ –∑ —Ä–µ–∞–ª—å–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏

**–ü–æ—Å—Ç –∑ Telegram:** https://t.me/Zaporizhzhyaoblenergo_news/2733

**–†–µ–∑—É–ª—å—Ç–∞—Ç–∏:**
- ‚úÖ –í—Å—ñ 12 —á–µ—Ä–≥ —Ä–æ–∑–ø–∞—Ä—Å–µ–Ω–æ –∫–æ—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ 28 —á–∞—Å–æ–≤–∏—Ö —ñ–Ω—Ç–µ—Ä–≤–∞–ª—ñ–≤ –æ–±—Ä–æ–±–ª–µ–Ω–æ
- ‚úÖ –ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è 24:00 ‚Üí 00:00 –ø—Ä–∞—Ü—é—î
- ‚úÖ –ß–µ—Ä–≥–∞ 4.2 –±–µ–∑ –¥–≤–æ–∫—Ä–∞–ø–∫–∏ –∑–Ω–∞–π–¥–µ–Ω–∞

### 3. –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é

- ‚úÖ **Telegram scraper** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –æ–Ω–æ–≤–ª–µ–Ω–∏–π –ø–∞—Ä—Å–µ—Ä
- ‚úÖ **Zoe scraper** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –æ–Ω–æ–≤–ª–µ–Ω–∏–π –ø–∞—Ä—Å–µ—Ä
- ‚úÖ **SyncEngine** –æ–±'—î–¥–Ω—É—î –¥–∞–Ω—ñ –∑ –æ–±–æ—Ö –¥–∂–µ—Ä–µ–ª
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –≥–æ—Ç–æ–≤–∞ –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö

## üîç –ü—Ä–æ–±–ª–µ–º–∞ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä—ñ

**–°–∏–º–ø—Ç–æ–º:** "–ì—Ä–∞—Ñ—ñ–∫ –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç—å" –Ω–∞ https://blackout-calendar-122838488015.us-west1.run.app/

**–î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
- API –ø—Ä–∞—Ü—é—î: `/api/schedules/latest` –ø–æ–≤–µ—Ä—Ç–∞—î –¥–∞–Ω—ñ
- –ê–ª–µ —Ç—ñ–ª—å–∫–∏ 1 —á–µ—Ä–≥–∞ (6.2) –∑–∞–º—ñ—Å—Ç—å 12 —á–µ—Ä–≥
- –ü—Ä–∏—á–∏–Ω–∞: —Å—Ç–∞—Ä–∏–π –∫–æ–¥ parser.js –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä—ñ

**–©–æ –≤–∏—è–≤–ª–µ–Ω–æ:**
- –ü–æ—Å—Ç 2745 (15.01) –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ñ–æ—Ä–º–∞—Ç –ë–ï–ó —Å–ª–æ–≤–∞ "–ß–µ—Ä–≥–∞": `1.1: 09:00 ‚Äì 14:00`
- –°—Ç–∞—Ä–∏–π –ø–∞—Ä—Å–µ—Ä –Ω–µ —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–≤ –≥—Ä–∞–Ω–∏—Ü—ñ –º—ñ–∂ —á–µ—Ä–≥–∞–º–∏
- –†–æ–∑–ø–∞—Ä—Å–∏–ª–∞—Å—å —Ç—ñ–ª—å–∫–∏ –æ—Å—Ç–∞–Ω–Ω—è —á–µ—Ä–≥–∞ (6.2)

**–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**
- Commit `5ba712c`: –î–æ–¥–∞–Ω–æ –ø—ñ–¥—Ç—Ä–∏–º–∫—É —Ñ–æ—Ä–º–∞—Ç—É –±–µ–∑ "–ß–µ—Ä–≥–∞"
- –ü—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ: ‚úÖ –≤—Å—ñ 12 —á–µ—Ä–≥ –ø–∞—Ä—Å—è—Ç—å—Å—è –∫–æ—Ä–µ–∫—Ç–Ω–æ

## üöÄ –Ø–∫ –æ–Ω–æ–≤–∏—Ç–∏ –ø—Ä–æ–¥–∞–∫—à–Ω (Google Cloud Run)

### –û–ø—Ü—ñ—è 1: –ó–ª–∏—Ç—Ç—è —á–µ—Ä–µ–∑ Pull Request (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

1. **–°—Ç–≤–æ—Ä—ñ—Ç—å Pull Request:**
   ```bash
   # –£ –≤–∞—à–æ–º—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó –Ω–∞ GitHub
   gh pr create --base main --head claude/update-message-format-jLOQa \
     --title "Fix: Support all queue formats in parser" \
     --body "Fixes parser to handle queues without '–ß–µ—Ä–≥–∞' prefix"
   ```

2. **–ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ —ñ –∑–º–µ—Ä–¥–∂—ñ—Ç—å PR**

3. **–ü—ñ—Å–ª—è merge –≤ `main` - –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π –Ω–∞ Cloud Run** (—è–∫—â–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π)

4. **–ê–±–æ –≤—Ä—É—á–Ω—É –∑–∞–¥–µ–ø–ª–æ–π—Ç–µ:**
   ```bash
   gcloud run deploy blackout-calendar \
     --source . \
     --region us-west1
   ```

### –û–ø—Ü—ñ—è 2: –ü—Ä—è–º–∏–π –¥–µ–ø–ª–æ–π –∑ –≥—ñ–ª–∫–∏

```bash
# 1. Checkout –≥—ñ–ª–∫–∏ –∑ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è–º
git checkout claude/update-message-format-jLOQa

# 2. –î–µ–ø–ª–æ–π –Ω–∞ Cloud Run
gcloud run deploy blackout-calendar \
  --source . \
  --region us-west1

# 3. –ü—ñ—Å–ª—è –¥–µ–ø–ª–æ—é –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ
curl https://blackout-calendar-122838488015.us-west1.run.app/api/schedules/latest
```

### –û–ø—Ü—ñ—è 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

**–Ø–∫—â–æ –∫–æ–¥ –≤–∂–µ –≤ main, –∞–ª–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –æ–Ω–æ–≤–∏–≤—Å—è:**

```bash
# –§–æ—Ä—Å—É–≤–∞—Ç–∏ rebuild —ñ –¥–µ–ø–ª–æ–π
gcloud run deploy blackout-calendar \
  --source . \
  --region us-west1 \
  --no-cache
```

## ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é

### 1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –æ—Å—Ç–∞–Ω–Ω—ñ–π –≥—Ä–∞—Ñ—ñ–∫:

# –ê–≤—Ç–æ–æ–Ω–æ–≤–ª–µ–Ω–Ω—è (–∫–æ–∂–Ω—ñ 30 —Ö–≤–∏–ª–∏–Ω)
AUTO_UPDATE=true
UPDATE_INTERVAL=*/30 * * * *

# Zoe scraper (–≤–∏–º–∫–Ω—É—Ç–∏ —è–∫—â–æ –ø–æ–∑–∞ –º–µ–∂–∞–º–∏ –£–∫—Ä–∞—ó–Ω–∏)
ENABLE_ZOE_SCRAPER=true

# –õ–æ–≥—É–≤–∞–Ω–Ω—è
DEBUG=false
NODE_ENV=production
```

### 2. –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–∏—Ö:

```bash
npm run build
```

### 3. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä:

```bash
npm start
```

**–ü—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ —Å–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:**
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç—å —á–∏ –ë–î –ø–æ—Ä–æ–∂–Ω—è
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å bootstrap –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
- ‚úÖ –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–∂–Ω—ñ 30 —Ö–≤–∏–ª–∏–Ω

### 4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ –¥–∞–Ω—ñ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏–ª–∏—Å—å:

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–µ—Ä–µ–∑ API
curl http://localhost:3000/api/schedules/2026-01-11
```

## üìã –í–∞–∂–ª–∏–≤—ñ —Ñ–∞–π–ª–∏

**–û–Ω–æ–≤–ª–µ–Ω—ñ:**
- `src/scraper/parser.js` - –ø–∞—Ä—Å–µ—Ä –∑ –Ω–æ–≤–∏–º —Ñ–æ—Ä–º–∞—Ç–æ–º ‚úÖ

**–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –ø–∞—Ä—Å–µ—Ä:**
- `src/scraper/telegramScraper.js` - —Ñ–µ—Ç—á–∏—Ç—å Telegram
- `src/scraper/zoeScraper.js` - —Ñ–µ—Ç—á–∏—Ç—å Zoe
- `src/services/SyncEngine.js` - –æ–±'—î–¥–Ω—É—î –¥–∞–Ω—ñ

**–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è:**
- `.env` - –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- `src/config/index.js` - –∫–æ–Ω—Ñ—ñ–≥ –º–æ–¥—É–ª—å

## üéØ –û—á—ñ–∫—É–≤–∞–Ω–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞

–ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É —Å–µ—Ä–≤–µ—Ä–∞ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω (–¥–µ —î —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç):

1. **Bootstrap (1 —Ä–∞–∑ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ):**
   - –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î –æ—Å—Ç–∞–Ω–Ω—ñ ~20 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –∑ Telegram
   - –ü–∞—Ä—Å–∏—Ç—å –∑ –Ω–æ–≤–∏–º —Ñ–æ—Ä–º–∞—Ç–æ–º "–¥–æ"
   - –ó–±–µ—Ä—ñ–≥–∞—î –≤ –ë–î

2. **–ê–≤—Ç–æ–æ–Ω–æ–≤–ª–µ–Ω–Ω—è (–∫–æ–∂–Ω—ñ 30 —Ö–≤–∏–ª–∏–Ω):**
   - –ü–µ—Ä–µ–≤—ñ—Ä—è—î –Ω–æ–≤—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
   - –ü–∞—Ä—Å–∏—Ç—å –∑ –Ω–æ–≤–∏–º —Ñ–æ—Ä–º–∞—Ç–æ–º
   - –û–Ω–æ–≤–ª—é—î –ë–î —è–∫—â–æ —î –∑–º—ñ–Ω–∏

3. **API:**
   - –í—ñ–¥–¥–∞—î –∞–∫—Ç—É–∞–ª—å–Ω—ñ –≥—Ä–∞—Ñ—ñ–∫–∏
   - –ü—ñ–¥—Ç—Ä–∏–º—É—î –≤—Å—ñ endpoints
   - –ü—Ä–∞—Ü—é—î –∑ –æ–Ω–æ–≤–ª–µ–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏

## ‚úÖ –í–∏—Å–Ω–æ–≤–æ–∫

**–ü–∞—Ä—Å–µ—Ä –≥–æ—Ç–æ–≤–∏–π –¥–æ –ø—Ä–æ–¥–∞–∫—à–Ω—É!**

- ‚úÖ –ù–æ–≤–∏–π —Ñ–æ—Ä–º–∞—Ç –∑ "–¥–æ" –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è
- ‚úÖ –°—Ç–∞—Ä–∏–π —Ñ–æ—Ä–º–∞—Ç –∑ —Ç–∏—Ä–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è
- ‚úÖ –í—Å—ñ —á–µ—Ä–≥–∏ (1.1-6.2) –ø–∞—Ä—Å—è—Ç—å—Å—è –∫–æ—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Telegram —ñ Zoe –ø—Ä–∞—Ü—é—î
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –≥–æ—Ç–æ–≤–∞

**–ü—Ä–æ–±–ª–µ–º–∞ "–≥—Ä–∞—Ñ—ñ–∫ –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç—å" –≤–∏–Ω–∏–∫–∞—î —Ç—ñ–ª—å–∫–∏ –≤ sandbox —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ —á–µ—Ä–µ–∑ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –º–µ—Ä–µ–∂—ñ.**

**–£ –ø—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ (Render, VPS, —Ç–æ—â–æ) –≤—Å–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏–º–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ!**

---

*–°—Ç–≤–æ—Ä–µ–Ω–æ: 2026-01-15*
*Commit: `510791f` - fix: Update parser to handle new Zoe message format with '–¥–æ' separator*
